# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type IpInfo {
  ip: String!
  type: String!
  hostname: String
  carrier: Carrier!
  company: Company!
  connection: Connection!
  currency: Currency!
  location: Location!
  security: Security!
  time_zone: TimeZone!
}

type Carrier {
  name: String
  mcc: String
  mnc: String
}

type Company {
  domain: String!
  name: String!
  type: String!
}

type Connection {
  asn: Float!
  domain: String!
  organization: String!
  route: String!
  type: String!
}

type Currency {
  code: String!
  name: String!
  name_native: String!
  plural: String!
  plural_native: String!
  symbol: String!
  symbol_native: String!
  format: Format!
}

type Format {
  negative: NegativeOrPositive!
  positive: NegativeOrPositive!
}

type NegativeOrPositive {
  prefix: String!
  suffix: String!
}

type Location {
  continent: ContinentOrRegion!
  country: Country!
  region: ContinentOrRegion!
  city: String!
  postal: String!
  latitude: Float!
  longitude: Float!
  language: LanguagesEntityOrLanguage!
  in_eu: Boolean!
}

type ContinentOrRegion {
  code: String!
  name: String!
}

type Country {
  area: Float!
  borders: [String!]!
  calling_code: String!
  capital: String!
  code: String!
  name: String!
  population: Float!
  population_density: Float!
  flag: Flag!
  languages: [LanguagesEntityOrLanguage!]
  tld: String!
}

type Flag {
  emoji: String!
  emoji_unicode: String!
  emojitwo: String!
  noto: String!
  twemoji: String!
  wikimedia: String!
}

type LanguagesEntityOrLanguage {
  code: String!
  name: String!
  native: String!
}

type Security {
  is_abuser: Boolean!
  is_attacker: Boolean!
  is_bogon: Boolean!
  is_cloud_provider: Boolean!
  is_proxy: Boolean!
  is_relay: Boolean!
  is_tor: Boolean!
  is_tor_exit: Boolean!
  is_vpn: Boolean!
  is_anonymous: Boolean!
  is_threat: Boolean!
}

type TimeZone {
  id: String!
  abbreviation: String!
  current_time: String!
  name: String!
  offset: Float!
  in_daylight_saving: Boolean!
}

type Address {
  ip: String!
  info: IpInfo
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Hop {
  id: Float!
  address: Address
  run: Run!
  hop: Float!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Run {
  id: String!
  nfcId: String
  url: String!
  destination: Address!
  hops: [Address!]!
  terminal: Terminal
  route: [Hop!]!
  createdAt: DateTime!
  updatedAt: DateTime!
  imagePath: String
}

type Presence {
  id: Float!
  terminal: Terminal!
  ip: String!
  websocketId: String!
  connectedAt: DateTime!
  lastSeenAt: DateTime!
}

type Terminal {
  id: Float!
  type: TerminalType!
  status: TerminalStatus!
  payload: String
  connectionsTo: [Terminal!]!
  connectionsFrom: [Terminal!]!
  run: Run
  presences: [Presence!]!
  createdAt: DateTime!
  updatedAt: DateTime!
}

enum TerminalType {
  SENDER
  RECEIVER
  SERVER
  GATEWAY
  ROUTER
}

enum TerminalStatus {
  IDLE
  SCANNING_NFC
  CREATING_PACKET
  CREATED_PACKET
  OFFLINE
}

type Job {
  name: String!
  id: String
  attemptsMade: Float!
  processedOn: Float
  finishedOn: Float
  timestamp: Float!
  data: String!
}

type Query {
  terminal(id: Float!): Terminal
  terminals: [Terminal!]!
  run(id: String!): Run!
}

type Mutation {
  createRun(url: String!, nfcId: String!): Run!
}

type Subscription {
  registerTerminal(id: Float!): Terminal
  allTerminals: [Terminal!]!
  jobs: [Job!]!
}